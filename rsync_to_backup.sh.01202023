#!/bin/sh

echo "|||||||||||||||||||||||||||||||||||"
echo "___________________________________"
echo "	RSYNC FILE TO BACKUP DRIVE:"
echo "___________________________________"

export CURRENT=`pwd`


function procbackup() {
fl=$1
clbackup=$2
dir=$3

if [[ ! -z "$3"  && ! -d $clbackup/$dir ]]; then 
echo "attempting to mkdir backup $fl to $clbackup/$dir"

elif [[ ! -z "$3"  && -d $clbackup/$dir ]]; then
echo "$dir exists: attempting to backup $fl to $clbackup/$dir"

elif [  -z "$3" ]; then
echo "attempting to direct volume backup $fl to $clbackup"
fi
#rsync -zavh $fl $clbackup 
}

function init() {

INFILE=$1
echo "your file is: $INFILE"
echo "What is the volume name you would like to backup $INFILE to?"
echo "Choose by number:"
echo "client1->[1] or client2->[2]"
read client

echo "If there is a backup directory name in the backup $client enter it here: "
read dirext

  if [ $client == 1 ]; then
     CLIENT="/Volumes/client_1"
     procbackup $INFILE $CLIENT $dirext

 elif [ $client == 2 ]; then
     CLIENT="/Volumes/client_2"
  procbackup $INFILE $CLIENT $dirext
fi
}


echo " What is your Download file to backup? "
read thispathfile

if [ -e "${CURRENT}/$thispathfile" ]; then 
init ${CURRENT}/$thispathfile
else
echo "your file is: ${CURRENT}/$thispathfile does not exist"
echo "ABORTING BACKUP"
exit 1
fi
